{{extend 'layout.html'}}

<h2>Flyer Editor</h2>

<p><strong>Flyer ID:</strong> {{=flyer_id}}</p>

<form action="{{=URL('save_flyer')}}" method="post">
    <input type="hidden" name="flyer_id" value="{{=flyer_id}}">

    <div class="form-group">
        <label>Title</label>
        <input class="form-control" name="title"
               value="{{=current_flyer.title if current_flyer else ''}}">
    </div>

    <div class="form-group">
        <label>Description</label>
        <textarea class="form-control" name="description"
                  rows="5">{{=current_flyer.description if current_flyer else ''}}</textarea>
    </div>

    <div class="form-group">
        <label>Image URL</label>
        <input class="form-control" name="image_url"
               value="{{=current_flyer.image_url if current_flyer else ''}}">
    </div>

    <div class="form-group">
        <label>Updated on</label><br>
        {{=current_flyer.updated_on if current_flyer else 'Not saved yet'}}
    </div>

    <button type="submit" class="btn btn-primary">Save Flyer</button>
</form>

{{ if current_flyer: }}
    <hr>
    <h3>Preview</h3>
    <div class="flyer-preview">
        <h4>{{=current_flyer.title}}</h4>
        <p>{{=current_flyer.description}}</p>
        {{if current_flyer.image_url:}}
        <img src="{{=current_flyer.image_url}}" style="max-width: 300px;">
        {{pass}}
    </div>
{{pass}}
